window.onload = function(){
    checkLicense();
    console.log(location.hostname);
    $("#camerabox").attr("src",'http://'+location.hostname+":23244/video_feed1");
    }




            


    function setCameraMode(camerainput,modeinput){

        var data = { cameramode: modeinput, cameranumber:camerainput };
       
        fetch(location.origin+"/changemode", {
        method: 'POST', // or 'PUT'
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
        })
        .then(response => response.json())
        .then(data => {
        console.log('Success:', data);
        })
        .catch((error) => {
        console.error('Error:', error);
        });
    
    
    }
    
    
    function releaseCameras(){
    
        var data = { };
       
        fetch(location.origin+"/releasecameras", {
        method: 'POST', // or 'PUT'
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
        })
        .then(response => response.json())
        .then(data => {
        console.log('Success:', data);
        })
        .catch((error) => {
        console.error('Error:', error);
        });
    
    
    }
    
    
    function restartCameras(){
    
        var data = {  };
       
        fetch(location.origin+"/restartcameras", {
        method: 'POST', // or 'PUT'
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
        })
        .then(response => response.json())
        .then(data => {
        console.log('Success:', data);
        })
        .catch((error) => {
        console.error('Error:', error);
        });
    
    
    }